<script>
    const USER = "sarifuddinmondal";
    const REPO = "ckart-project";
    let masterData = [];

    // ক্যাটাগরি লিস্ট
    const categories = ['body_care', 'cosmetic', 'face_care', 'hire_care', 'color_cosmatic', 'personal_care', 'nail_care', 'beauty_tool', 'skin_care', 'others'];

    async function loadMasterData() {
        const url = `https://raw.githubusercontent.com/${USER}/${REPO}/main/product_data.json?t=${Date.now()}`;
        try {
            const res = await fetch(url);
            masterData = await res.json();
            renderProducts(masterData); // শুরুতে সব দেখাবে
        } catch (e) { document.getElementById('product-list').innerHTML = "No Data Found."; }
    }

    function filterByCategory(cat) {
        const filtered = masterData.filter(p => p.category === cat);
        renderProducts(filtered);
    }

    function renderProducts(data) {
        const list = document.getElementById('product-list');
        list.innerHTML = data.map(p => `
            <div class="card">
                <img src="${p.img}">
                <h3>${p.name}</h3>
                <p class="price">₹${p.mrp}</p>
                <button onclick='addToCart(${JSON.stringify(p)})'>Add to Bag</button>
            </div>
        `).join('');
    }

    window.onload = loadMasterData;
</script>
